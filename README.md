# 拼图验证码（Vesion1.2）
各位，我考虑到正式的生产环境中，**单纯的JavaScript（前端验证）会被攻击者破解**，所以又马不停蹄地发布第二版。
这一版本也是由AI生成的，仅供参考，需要自取。  
以下是PHP版本文件：
[safeForPHP.htm](https://github.com/linfangyong/linfangyong.github.io/edit/main/safe.htm) #主页面  
[captcha_api.php](https://github.com/linfangyong/linfangyong.github.io/edit/main/captcha_api.php) #后端验证API  
```php
//怎么访问呢？
//在地址栏输入“……/safeForPHP.htm?url=https://baidu.com”
//可以看到，GET的URL参数，就是验证成功，跳转到的链接。
//Python同理
```
```php
//captcha_api.php还需要修改⚠的地方
$config = [
    'sessionDir' => __DIR__ . '/session/', // 会话存储目录
    'bgImages' => [ // 背景图列表（生产环境建议使用本地图片）
        'https://picsum.photos/400/300?random=1',//⚠图片1的网络位置
        'https://picsum.photos/400/300?random=2',//⚠图片二
        'https://picsum.photos/400/300?random=3',//⚠图片三
    ],
    'pieceSize' => 50,
    'bgWidth' => 320,
    'bgHeight' => 160,
    'tolerance' => 3, // 允许的误差像素
    'sessionExpire' => 300, // 会话有效期（5分钟）
    'minTrackPoints' => 5, // 最小轨迹点数量（防止机器快速滑动）
    'minTrackTime' => 500, // 最小滑动时间（毫秒）
];

```
<!--以下是Python版本文件：
[safeForPython.htm](https://github.com/linfangyong/linfangyong.github.io/edit/main/safe.htm) #主页面  
[captcha_api.py](https://github.com/linfangyong/linfangyong.github.io/edit/main/captcha_api.py) #后端验证API
```python
#还没做……
```-->
本人精力有限，还望大家继续补充其它语言的版本。
**注意：您不可以直接用于生产环境，因为背景图片是由[picsum.photos](https://picsum.photos)提供的。您需要自行寻找其他CDN服务商。**  

再次感谢您的使用！  
由[豆包](https://DOUBAO.COM)和[deepseek](HTTPS://DEEPSEEK.COM)支持。  

# Puzzle CAPTCHA (Version 1.2)
Dear all, considering the formal production environment, I realized that **a simple JavaScript (front-end verification) could be cracked by attackers**, so I promptly released the second version.
This version is also generated by AI and is for reference only. Please take it as you need.
The following are the PHP version files:
[safeForPHP.htm](https://github.com/linfangyong/linfangyong.github.io/edit/main/safe.htm) # Main page
[captcha_api.php](https://github.com/linfangyong/linfangyong.github.io/edit/main/captcha_api.php) # Back-end verification API 
```php
How to access it?
Enter ".../safeForPHP.htm?url=https://baidu.com" in the address bar. 
As can be seen, the 'url' parameters of GET are the links to which the redirection occurs upon successful verification. The same applies to Python. ```
```php
The places marked with ⚠ in captcha_api.php still need to be modified. $config = [
'sessionDir' => __DIR__ . '/session/', // Session storage directory
'bgImages' => [ // Background image list (it is recommended to use local images in production environment) 
'https://picsum.photos/400/300?random=1', // ⚠ The network location of image 1 
'https://picsum.photos/400/300?random=2', // ⚠ Image Two  
'https://picsum.photos/400/300?random=3', // ⚠ Image Three 
],
'pieceSize' => 50,
'bgWidth' => 320,
'bgHeight' => 160,
'tolerance' => 3, // Allowed error pixels
'sessionExpire' => 300, // Session validity period (5 minutes)
'minTrackPoints' => 5, // Minimum number of track points (to prevent rapid sliding by machines)
'minTrackTime' => 500, // Minimum sliding time (milliseconds) 
];


```
<!-- The following are Python version files:
[safeForPython.htm](https://github.com/linfangyong/linfangyong.github.io/edit/main/safe.htm) # Main page
[captcha_api.py](https://github.com/linfangyong/linfangyong.github.io/edit/main/captcha_api.py) # Backend verification API 
```python
#Haven't done it yet...
```-->
I have limited energy, so I hope everyone can continue to supplement other language versions. 

Please note that you cannot directly use it in a production environment because the background image is provided by [picsum.photos](https://picsum.photos)(for test). **You need to find other CDN service providers on your own. **


Thank you again for your use!
Supported by [CICI](https://CICI.COM) and [deepseek](HTTPS://DEEPSEEK.COM).
